---
title: "sound_hab_landscape_metrics"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Load Libraries

```{r}
library(SDMTools)
library(sp)
library(raster)
library(rgdal)
library(dplyr)
library(ggplot2)
library(rasterVis)

#install.packages("rgeos")
```

## Load Data

- Exported raster with a pixel size of 3.2 ft (equivalent 1m)
Landscape metrics required meter resolution
```{r}
SG4_class = raster("data/classified_raster/SG4_classified_1m.tif")
plot(SG4_class)
SG_4_patch = PatchStat(SG4_class, cell = 1)
SG_4_patch = SG_4_patch %>%
  mutate(habitat = c("seagrass","sand"))

SG6_class = raster("data/classified_raster/SG6_classified_1m.tif")
plot(SG6_class)
SG_6_patch = PatchStat(SG6_class, cell = 1)
SG_6_patch = SG_6_patch %>%
  mutate(habitat = c("sand", "seagrass"))

SG9_class = raster("data/classified_raster/SG9_classified_1m.tif")
plot(SG9_class)
SG_9_patch = PatchStat(SG9_class, cell = 1)
SG_9_patch = SG_9_patch %>%
  mutate(habitat = c("sand", "seagrass"))

SG12_class = raster("data/classified_raster/SG12_classified_1m.tif")
plot(SG12_class)
SG_12_patch = PatchStat(SG12_class, cell = 1)
SG_12_patch = SG_12_patch %>%
  mutate(habitat = c("sand", "seagrass"))

SG14_class = raster("data/classified_raster/SG14_classified_1m.tif")
plot(SG14_class)
SG_14_patch = PatchStat(SG14_class, cell = 1)
SG_14_patch = SG_14_patch %>%
  mutate(habitat = c("seagrass", "sand"))

SG17_class = raster("data/classified_raster/SG17_classified_1m.tif")
plot(SG17_class)
SG_17_patch = PatchStat(SG17_class, cell = 1)
SG_17_patch = SG_17_patch %>%
  mutate(habitat = c("sand", "seagrass"))



```

## Landscape metrics package

```{r}
#library(landscapemetrics)
#library(landscapetools)

## landscapemetrics functions
#check_landscape(test_SG12)
#show_landscape(test_SG12, discrete = TRUE)

# area or class (seagrass vs sand)
#lsm_c_ca(test_SG12)
#calculate_lsm(test_SG12, 'class')
# what is the unit on value? m^2? I think its hectares?
```

